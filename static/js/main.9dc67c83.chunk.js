(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{292:function(e,t,a){},447:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(24),c=a.n(r),i=a(53),s=a(118),o=a(32),l=(a(292),a(488)),u=a(490),j=a(492),b=a(181),d=a(234),O=a.n(d),p=a(4),x=Object(l.a)((function(e){return{root:{flexGrow:1},bar:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)"},link:{flexGrow:1,textAlign:"center",textDecoration:"none",color:"#fff"},title:{flexGrow:1,textAlign:"center",fontSize:"2em",textDecoration:"none",color:"#fff"}}}));function f(e){e.setIsOpen;var t=x(),a=Object(o.g)();return Object(p.jsx)("div",{className:t.root,children:Object(p.jsx)(u.a,{className:t.bar,position:"static",children:Object(p.jsxs)(j.a,{children:["/"!==a.pathname&&Object(p.jsx)(s.b,{to:"/",children:Object(p.jsx)(O.a,{})}),"/"!==a.pathname?Object(p.jsx)(s.b,{to:"/",className:t.link,children:Object(p.jsx)(b.a,{variant:"h2",className:t.title,children:"Weather Forecast Worldwide"})}):Object(p.jsx)(b.a,{variant:"h2",className:t.title,children:"Weather Forecast Worldwide"})]})})})}var h=a(142),m=a(235),y=Object(l.a)((function(e){return{root:{marginTop:"20px",background:"linear-gradient(45deg, #1b2145 30%, rgb(97 97 97 / 90%) 90%)"},flex:{display:"flex",alignItems:"center",textDecoration:"none",color:"#fafafa"},toolbar:Object(h.a)({display:"flex",justifyContent:"center"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"center"})}})),v=function(){var e=y();return Object(p.jsx)(u.a,{position:"relative",className:e.root,color:"secondary",children:Object(p.jsx)(j.a,{className:e.toolbar,children:Object(p.jsxs)("a",{className:e.flex,href:"https://github.com/Vldkvll",children:[Object(p.jsx)(m.a,{color:"#fafafa",size:"48px"}),Object(p.jsx)(b.a,{variant:"h4",children:"Github"})]})})})},g=a(69),E=a(29),w=a(513),T=a(518),k=a(505),_=a(504),C=a(502),F=a(503),R=a(501),S=a(493),A=a(236),H=a.n(A),N=Object(l.a)({fab:{position:"fixed",top:"4em",right:"4em"}});var W=function(e){var t=e.onClick,a=N();return Object(p.jsx)(S.a,{className:a.fab,onClick:t,"aria-label":"add weather location",color:"secondary",children:Object(p.jsx)(H.a,{})})},D=a(494),I=a(497),M=a(500),Y=a(239),V=a.n(Y),L=a(498),U=a(182),K=a(521),G=a(520),B=a(238),q=a.n(B);var J=function(e){var t=e.data,a=t.description,n=t.icon,r=t.temp,c=t.windSpeed,i=t.windTransform;return Object(p.jsx)("div",{children:Object(p.jsxs)(D.a,{container:!0,justify:"center",alignItems:"center",children:[r&&Object(p.jsxs)(b.a,{variant:"h6",children:[r,"\xb0C"]}),n&&Object(p.jsx)(G.a,{style:{width:"4em",margin:"0.5em"},title:a,"aria-label":a,children:Object(p.jsx)(K.a,{alt:a,src:n})}),c>0&&Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(b.a,{variant:"h6",children:["".concat(c," km/h"),null!==i&&Object(p.jsx)(q.a,{style:{transform:"rotateZ(".concat(i,"deg)"),marginLeft:"0.5em"}})]})})]})})},z=a(499),P=a(240),Z=a.n(P),$=Object(l.a)((function(e){return{main:{flexGrow:"1"},locationText:{textAlign:"center",display:"block",maxWidth:"100%",maxHeight:"100%"},grid:{margin:"0 0px 5px 5px"},deleteButton:{zIndex:"1"}}})),Q=function(e){var t=e.location,a=e.onDelete,n=e.move,r=e.weatherData,c=e.onRefresh,i=$(),s=r.description;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(I.a,{className:i.main,children:[Object(p.jsx)(D.a,{container:!0,direction:"column",justify:"space-between",alignItems:"center",children:Object(p.jsx)(U.a,{onClick:n(t,s),className:"fullWidth",children:Object(p.jsx)(L.a,{children:r?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(D.a,{container:!0,direction:"column",justify:"space-between",alignItems:"center",children:[Object(p.jsx)(D.a,{children:Object(p.jsx)("div",{children:Object(p.jsx)(b.a,{variant:"h4",className:i.locationText,children:t})})}),Object(p.jsx)(D.a,{}),Object(p.jsx)(J,{onDelete:a,data:r})]})}):Object(p.jsx)(z.a,{})})})}),Object(p.jsxs)(D.a,{container:!0,spacing:2,direction:"row",justify:"space-between",alignItems:"center",item:!0,xs:12,className:i.grid,children:[Object(p.jsx)(D.a,{children:Object(p.jsx)(M.a,{onClick:a,className:i.deleteButton,children:Object(p.jsx)(V.a,{})})}),Object(p.jsx)(D.a,{children:Object(p.jsx)(M.a,{onClick:function(){return c(t)},className:i.deleteButton,children:Object(p.jsx)(Z.a,{})})})]})]})})},X="MY_WEATHRE_FETCH_WEATHER_START",ee="MY_WEATHRE_FETCH_WEATHER_SUCCESS",te="MY_WEATHRE_FETCH_WEATHER_EVERY3HOURS_START",ae="MY_WEATHRE_FETCH_WEATHER_EVERY3HOURS_SUCCESS",ne="MY_WEATHRE_FETCH_WEATHER_EVERY3HOURS_FAIL",re="MY_WEATHRE_FFETCH_FAVORITES_START",ce="MY_WEATHRE_FETCH_FAVORITES__SUCCESS",ie="MY_WEATHRE_FETCH_FAVORITES_FAIL",se="MY_WEATHREREMOVE_ERROR_START",oe="MY_WEATHRE_REMOVE_ERROR_SUCCESS";var le=Object(l.a)({container:{marginTop:"2em"},mainCard:{backgroundColor:"blue"}});var ue=function(e){var t=e.weatherLocations,a=e.removeLocation,r=e.moveItemToFront,c=le(),s=Object(n.useState)(!1),o=Object(E.a)(s,2),l=o[0],u=o[1],j=Object(n.useState)(""),b=Object(E.a)(j,2),d=b[0],O=b[1],x=Object(i.c)((function(e){return e.favorites.citiesData})),f=Object(i.b)(),h=Object(n.useCallback)((function(e){return f({type:X,payload:e})}),[f]),m=Object(n.useCallback)((function(e){return f({type:re,payload:e})}),[f]);Object(n.useEffect)((function(){d&&h(d)}),[d,l,h]),Object(n.useEffect)((function(){0!==t.length&&m(t)}),[t,m]);var y=function(e){u((function(e){return!e})),O(e)};return Object(p.jsxs)(D.a,{container:!0,className:c.container,children:[Object(p.jsx)(D.a,{item:!0,xs:!1,sm:1}),Object(p.jsx)(D.a,{item:!0,container:!0,sm:10,spacing:3,children:x.map((function(e,t){return Object(p.jsx)(D.a,{item:!0,xs:8,sm:6,children:Object(p.jsx)(Q,{location:e.cityKey,onDelete:a(t),move:r,onRefresh:y,weatherData:e.data})},e.cityKey)}))}),Object(p.jsx)(D.a,{item:!0,xs:!1,sm:1})]})},je="locations";function be(e){localStorage.setItem(je,JSON.stringify(e))}function de(){var e=localStorage.getItem(je);return e?JSON.parse(e):["Kyiv","Warsaw","Rome","London","Washington","New York"]}function Oe(e){var t=e.split(" ");return(t=t.map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)}))).join(" ")}function pe(e){var t=e.weather||[],a=Object(E.a)(t,1)[0];return{temp:e.main&&e.main.temp?Math.round(e.main.temp).toString():"",description:a?a.description:"",icon:a?"http://openweathermap.org/img/wn/".concat(a.icon,"@2x.png"):"",windTransform:e.wind?e.wind.deg-90:null,windSpeed:e.wind?Math.round(e.wind.speed):0}}function xe(e){return e.list.map((function(e){return{date:e.dt_txt.split(" ")[1].split(":")[0]+":00",temp:e.main.temp,feels:e.main.feels_like}}))}var fe=a(36),he=Object(n.createContext)(),me=function(e){var t=e.children,a=Object(n.useState)({location:"Rio de Janeiro",units:"metric",description:"Carnaval"}),r=Object(E.a)(a,2),c=r[0],i=r[1];return Object(p.jsx)(he.Provider,{value:{dataS:c,setValues:function(e){i((function(t){return Object(fe.a)(Object(fe.a)({},t),e)}))}},children:t})},ye=function(){return Object(n.useContext)(he)},ve=Object(l.a)({dialogThem:{flexGrow:1,textAlign:"center"}});var ge=function(){var e=ve(),t=Object(o.f)(),a=Object(i.c)((function(e){return e.favorites.error})),r=ye().setValues,c=Object(n.useState)(de),s=Object(E.a)(c,2),l=s[0],u=s[1],j=Object(n.useState)(!1),b=Object(E.a)(j,2),d=b[0],O=b[1],x=a.cityKey,f=Object(i.b)(),h=function(){O(!0)},m=function(){O(!1)},y=function(e){u(Array.from(e)),be(e)};x&&setTimeout((function(e){!function(e){var t=l.filter((function(t,a){return t!==e}));y(t)}(e),alert("This location does not exists.")}),1e3,x);var v=Object(n.useCallback)((function(){return f({type:se})}),[f]);return Object(n.useEffect)((function(){x&&v()}),[x,v]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(W,{onClick:h}),Object(p.jsx)(ue,{weatherLocations:l,moveItemToFront:function(e,a){return function(){r({location:e,units:"metric",description:a}),t.push("./weather")}},removeLocation:function(e){return function(){y(l.filter((function(t,a){return a!==e})))}},handleClickOpen:h}),Object(p.jsxs)(T.a,{className:e.dialogThem,open:d,onClose:m,"aria-labelledby":"form-dialog-title",children:[Object(p.jsx)(R.a,{id:"form-dialog-title",children:"Add Location"}),Object(p.jsxs)(C.a,{children:[Object(p.jsx)(F.a,{children:"Enter a City Name:"}),Object(p.jsx)(w.a,{autoFocus:!0,color:"secondary",margin:"dense",id:"name",label:"City",name:"city",type:"text",fullWidth:!0,required:!0})]}),Object(p.jsxs)(_.a,{children:[Object(p.jsx)(k.a,{onClick:m,color:"secondary",children:"Cancel"}),Object(p.jsx)(k.a,{onClick:function(){var e,t=document.getElementsByName("city")[0].value;(e=t).length>=2&&e.match(/^[A-Za-z\xc0-\xff\.'*`\xb4\u2019,\- "]{1,34}$/i)?l.includes(Oe(t))?alert("This location already exists."):(u([].concat(Object(g.a)(l),[Oe(t)])),be([].concat(Object(g.a)(l),[Oe(t)])),O(!1)):alert("Request must contain only English characters. Enter your request correctly, please.")},color:"secondary",children:"Add"})]})]})]})},Ee=a(514),we=a(506),Te=a(507),ke=a(519),_e=a(517),Ce=a(176),Fe=a(508),Re=a(509),Se=a(125),Ae=a(256),He=a(257),Ne=a(128),We=a(261),De=a(263),Ie=Object(l.a)((function(e){return{root:{borderRadius:"5px",backdropFilter:"blur(100px)"},divider:{margin:".5rem 0"}}})),Me=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ye=function(){var e=Ie(),t=ye(),a=t.dataS,r=t.setValues,c=Object(i.c)((function(e){return e.forecast.weatherData})),s=a.location,o=a.units,l=a.description,u=Object(i.b)(),j=Object(n.useCallback)((function(e){return u({type:te,payload:e})}),[u]);Object(n.useEffect)((function(){s&&j({cityName:s,units:o})}),[s,j,o]);return Object(p.jsx)(p.Fragment,{children:null===c?Object(p.jsx)(z.a,{}):Object(p.jsx)(De.a,{children:Object(p.jsx)(_e.a,{appear:!0,in:c[0],timeout:250,classNames:"fade",unmountOnExit:!0,children:Object(p.jsxs)(Ee.a,{className:e.root,m:2,p:1,children:[Object(p.jsxs)(b.a,{variant:"h3",children:[s,", ",Me[(new Date).getDay()]]}),Object(p.jsx)(b.a,{variant:"subtitle2",children:l}),Object(p.jsx)(we.a,{className:e.divider}),Object(p.jsxs)(b.a,{variant:"h4",children:["metric"===o?Object(p.jsx)(Ce.a,{}):Object(p.jsx)(Ce.b,{})," "]}),Object(p.jsx)(Te.a,{onChange:function(){r(a.units="metric"===o?"imperial":"metric")},checked:"metric"===o,control:Object(p.jsx)(ke.a,{color:"primary"})}),Object(p.jsx)(Fe.a,{width:"100%",height:300,children:Object(p.jsxs)(Re.a,{margin:{top:10,right:30,left:0,bottom:0},data:c,children:[Object(p.jsxs)("defs",{children:[Object(p.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(p.jsx)("stop",{offset:"5%",stopColor:"#F85F0F",stopOpacity:.8}),Object(p.jsx)("stop",{offset:"95%",stopColor:"#F85F0F",stopOpacity:0})]}),Object(p.jsxs)("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(p.jsx)("stop",{offset:"5%",stopColor:"#9607F8",stopOpacity:.8}),Object(p.jsx)("stop",{offset:"95%",stopColor:"#9607F8",stopOpacity:0})]})]}),Object(p.jsx)(Se.a,{}),Object(p.jsx)(Ae.a,{stroke:"rgba(0,0,0,7)",dataKey:"date"}),Object(p.jsx)(He.a,{stroke:"rgba(0,0,0,7)"}),Object(p.jsx)(Ne.a,{}),Object(p.jsx)(We.a,{type:"montoone",dataKey:"temp",stroke:"#F85F0F",fillOpacity:1,fill:"url(#colorUv)"}),Object(p.jsx)(We.a,{type:"monotone",dataKey:"feels",stroke:"#9607F8",fillOpacity:1,fill:"url(#colorPv)"})]})})]})})})})};var Ve=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(s.a,{children:[Object(p.jsx)(f,{}),Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{path:"/",exact:!0,component:ge}),Object(p.jsx)(o.a,{path:"/navbar",component:f}),Object(p.jsx)(o.a,{path:"/weather",component:Ye})]}),Object(p.jsx)(v,{})]})})},Le=a(61),Ue=a(260),Ke={cityName:"",weatherData:null,error:"",units:""},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(fe.a)(Object(fe.a)({},e),{},{cityName:t.payload.cityName,units:t.payload.units});case ae:return Object(fe.a)(Object(fe.a)({},e),{},{weatherData:t.payload});case ne:return Object(fe.a)(Object(fe.a)({},e),{},{error:t.payload});default:return e}},Be={citiesArr:[],citiesData:[],error:""},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(fe.a)(Object(fe.a)({},e),{},{citiesArr:Object(g.a)(t.payload)});case ce:return Object(fe.a)(Object(fe.a)({},e),{},{citiesData:Object(g.a)(t.payload)});case ie:return Object(fe.a)(Object(fe.a)({},e),{},{error:t.payload});case oe:return Object(fe.a)(Object(fe.a)({},e),{},{error:""});case ee:var a=Object(g.a)(e.citiesData).reduce((function(e,a,n){return a.cityKey===t.payload.city&&(a.data=t.payload.data),e=[].concat(Object(g.a)(e),[a])}),[]);return Object(fe.a)(Object(fe.a)({},e),{},{citiesData:Object(g.a)(a)});default:return e}},Je=Object(Le.c)({favorites:qe,forecast:Ge}),ze=a(27),Pe=a.n(ze),Ze=a(54),$e=a(179),Qe=a(258),Xe=a.n(Qe).a.create({baseURL:"https://api.openweathermap.org"}),et=function(){var e=Object($e.a)(Pe.a.mark((function e(t){var a,n,r,c,i,s,o,l;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe.get("/data/2.5/weather",{params:{q:t,appid:"93c8c994b1286b57b55bc0fbed8a5e45",units:"metric"}});case 3:if(200!==(a=e.sent).status){e.next=8;break}return n=a.data,r=pe(n),c=r.temp,i=r.description,s=r.icon,o=r.windTransform,l=r.windSpeed,e.abrupt("return",{temp:c,description:i,icon:s,windTransform:o,windSpeed:l});case 8:return e.abrupt("return",{error:a.statusText});case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=Object($e.a)(Pe.a.mark((function e(t){var a,n;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cityName,n=t.units,e.next=3,Xe.get("/data/2.5/forecast/",{params:{q:a,appid:"93c8c994b1286b57b55bc0fbed8a5e45",units:n,cnt:9}}).then((function(e){return e.data})).catch((function(e){return{error:e.message}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=a(44),nt=Pe.a.mark(st),rt=Pe.a.mark(ot),ct=Pe.a.mark(lt),it=Pe.a.mark(ut);function st(e){var t,a,n;return Pe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,r.next=4,Object(at.b)(et,e.payload);case 4:return a=r.sent,n=Object.assign({},{data:a},{city:t}),r.next=8,Object(at.c)({type:ee,payload:n});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(at.c)({type:"MY_WEATHRE_FETCH_WEATHER_FAIL",payload:r.t0});case 14:case"end":return r.stop()}}),nt,null,[[0,10]])}function ot(e){var t,a,n,r,c;return Pe.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=[],a=[],i.next=4,e.payload.map((function(e){return lt(e)}));case 4:return n=i.sent,i.next=7,Object(at.a)(n);case 7:t=i.sent,r=!1,c=0;case 10:if(!(c<t.length)){i.next=23;break}if("undefined"!==typeof t[c]){i.next=15;break}r=!0,i.next=20;break;case 15:if(!t[c].data.error){i.next=19;break}return i.abrupt("continue",20);case 19:a.push(t[c]);case 20:c++,i.next=10;break;case 23:if(r){i.next=26;break}return i.next=26,Object(at.c)({type:ce,payload:a});case 26:case"end":return i.stop()}}),rt)}function lt(e){var t,a;return Pe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(at.b)(et,e);case 3:if(t=n.sent,!(a={cityKey:e,data:t}).data.error){n.next=8;break}return n.next=8,Object(at.c)({type:ie,payload:a});case 8:return n.abrupt("return",a);case 11:return n.prev=11,n.t0=n.catch(0),console.error("Error fetching Favorite"),n.abrupt("return",void 0);case 15:case"end":return n.stop()}}),ct,null,[[0,11]])}function ut(){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.c)({type:oe});case 2:case"end":return e.stop()}}),it)}var jt=Pe.a.mark(bt);function bt(e){var t,a;return Pe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(at.b)(tt,e.payload);case 3:return t=n.sent,n.next=6,Object(at.b)(xe,t);case 6:return a=n.sent,n.next=9,Object(at.c)({type:ae,payload:a});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(at.c)((r=n.t0,{type:ne,payload:r}));case 15:case"end":return n.stop()}var r}),jt,null,[[0,11]])}var dt=Pe.a.mark(ft),Ot=Pe.a.mark(ht),pt=Pe.a.mark(mt),xt=Pe.a.mark(yt);function ft(){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ze.a,e.next=3,Object(Ze.d)(re,ot);case 3:return e.t1=e.sent,e.t2=[e.t1],e.next=7,(0,e.t0)(e.t2);case 7:case"end":return e.stop()}}),dt)}function ht(){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ze.a,e.next=3,Object(Ze.d)(X,st);case 3:return e.t1=e.sent,e.t2=[e.t1],e.next=7,(0,e.t0)(e.t2);case 7:case"end":return e.stop()}}),Ot)}function mt(){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ze.a,e.next=3,Object(Ze.d)(se,ut);case 3:return e.t1=e.sent,e.t2=[e.t1],e.next=7,(0,e.t0)(e.t2);case 7:case"end":return e.stop()}}),pt)}function yt(){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ze.a,e.next=3,Object(Ze.d)(te,bt);case 3:return e.t1=e.sent,e.t2=[e.t1],e.next=7,(0,e.t0)(e.t2);case 7:case"end":return e.stop()}}),xt)}var vt=Le.d,gt=Object(Ue.a)(),Et=Object(Le.e)(Je,vt(Object(Le.a)(gt)));gt.run(ft),gt.run(ht),gt.run(yt),gt.run(mt),c.a.render(Object(p.jsx)(i.a,{store:Et,children:Object(p.jsx)(me,{children:Object(p.jsx)(Ve,{})})}),document.getElementById("root"))}},[[447,1,2]]]);
//# sourceMappingURL=main.9dc67c83.chunk.js.map