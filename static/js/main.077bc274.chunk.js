(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{292:function(e,t,a){},447:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(24),c=a.n(r),i=a(53),s=a(141),o=a(32),u=(a(292),a(488)),l=a(490),j=a(492),b=a(181),d=a(233),p=a.n(d),O=a(4),f=Object(u.a)((function(e){return{root:{flexGrow:1},bar:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)"},title:{flexGrow:1,textAlign:"center",fontSize:"2em"}}}));function x(e){e.setIsOpen;var t=f(),a=Object(o.g)();return Object(O.jsx)("div",{className:t.root,children:Object(O.jsx)(l.a,{className:t.bar,position:"static",children:Object(O.jsxs)(j.a,{children:["/"!==a.pathname&&Object(O.jsx)(s.b,{to:"/",children:Object(O.jsx)(p.a,{})}),Object(O.jsx)(b.a,{variant:"h2",className:t.title,children:"Weather Forecast Worldwide"})]})})})}var m=a(142),h=a(234),y=Object(u.a)((function(e){return{root:{marginTop:"20px",background:"linear-gradient(45deg, #1b2145 30%, rgb(97 97 97 / 90%) 90%)"},flex:{display:"flex",alignItems:"center",textDecoration:"none",color:"#fafafa"},toolbar:Object(m.a)({display:"flex",justifyContent:"center"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"center"})}})),v=function(){var e=y();return Object(O.jsx)(l.a,{position:"relative",className:e.root,color:"secondary",children:Object(O.jsx)(j.a,{className:e.toolbar,children:Object(O.jsxs)("a",{className:e.flex,href:"https://github.com/Vldkvll",children:[Object(O.jsx)(h.a,{color:"#fafafa",size:"48px"}),Object(O.jsx)(b.a,{variant:"h4",children:"Github"})]})})})},g=a(69),E=a(29),w=a(513),T=a(518),k=a(505),_=a(504),C=a(502),R=a(503),F=a(501),S=a(493),A=a(235),H=a.n(A),N=Object(u.a)({fab:{position:"fixed",top:"4em",left:"4em"}});var W=function(e){var t=e.onClick,a=N();return Object(O.jsx)(S.a,{className:a.fab,onClick:t,"aria-label":"add weather location",color:"secondary",children:Object(O.jsx)(H.a,{})})},I=a(494),D=a(497),M=a(500),Y=a(238),V=a.n(Y),L=a(498),U=a(182),K=a(522),B=a(521),G=a(237),q=a.n(G);var J=function(e){var t=e.data,a=t.description,n=t.icon,r=t.temp,c=t.windSpeed,i=t.windTransform;return Object(O.jsx)("div",{children:Object(O.jsxs)(I.a,{container:!0,justify:"center",alignItems:"center",children:[r&&Object(O.jsxs)(b.a,{variant:"h6",children:[r,"\xb0C"]}),n&&Object(O.jsx)(B.a,{style:{width:"4em",margin:"0.5em"},title:a,"aria-label":a,children:Object(O.jsx)(K.a,{alt:a,src:n})}),c>0&&Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(b.a,{variant:"h6",children:["".concat(c," km/h"),null!==i&&Object(O.jsx)(q.a,{style:{transform:"rotateZ(".concat(i,"deg)"),marginLeft:"0.5em"}})]})})]})})},z=a(499),P=a(239),Z=a.n(P),$=Object(u.a)((function(e){return{main:{flexGrow:"1"},locationText:{textAlign:"center",display:"block",maxWidth:"100%",maxHeight:"100%"},grid:{margin:"0 0px 5px 5px"},deleteButton:{zIndex:"1"}}})),Q=function(e){var t=e.location,a=e.onDelete,n=e.move,r=e.weatherData,c=e.onRefresh,i=$(),s=r.description;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(D.a,{className:i.main,children:[Object(O.jsx)(I.a,{container:!0,direction:"column",justify:"space-between",alignItems:"center",children:Object(O.jsx)(U.a,{onClick:n(t,s),className:"fullWidth",children:Object(O.jsx)(L.a,{children:r?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(I.a,{container:!0,direction:"column",justify:"space-between",alignItems:"center",children:[Object(O.jsx)(I.a,{children:Object(O.jsx)("div",{children:Object(O.jsx)(b.a,{variant:"h4",className:i.locationText,children:t})})}),Object(O.jsx)(I.a,{}),Object(O.jsx)(J,{onDelete:a,data:r})]})}):Object(O.jsx)(z.a,{})})})}),Object(O.jsxs)(I.a,{container:!0,spacing:2,direction:"row",justify:"space-between",alignItems:"center",item:!0,xs:12,className:i.grid,children:[Object(O.jsx)(I.a,{children:Object(O.jsx)(M.a,{onClick:a,className:i.deleteButton,children:Object(O.jsx)(V.a,{})})}),Object(O.jsx)(I.a,{children:Object(O.jsx)(M.a,{onClick:function(){return c(t)},className:i.deleteButton,children:Object(O.jsx)(Z.a,{})})})]})]})})},X="MY_WEATHRE_FETCH_WEATHER_START",ee="MY_WEATHRE_FETCH_WEATHER_SUCCESS",te="MY_WEATHRE_FETCH_WEATHER_EVERY3HOURS_START",ae="MY_WEATHRE_FETCH_WEATHER_EVERY3HOURS_SUCCESS",ne="MY_WEATHRE_FETCH_WEATHER_EVERY3HOURS_FAIL",re="MY_WEATHRE_FFETCH_FAVORITES_START",ce="MY_WEATHRE_FETCH_FAVORITES__SUCCESS",ie="MY_WEATHRE_FETCH_FAVORITES_FAIL",se="MY_WEATHREREMOVE_ERROR_START",oe="MY_WEATHRE_REMOVE_ERROR_SUCCESS";var ue=Object(u.a)({container:{marginTop:"2em"},mainCard:{backgroundColor:"blue"}});var le=function(e){var t=e.weatherLocations,a=e.removeLocation,r=e.moveItemToFront,c=ue(),s=Object(n.useState)(!1),o=Object(E.a)(s,2),u=o[0],l=o[1],j=Object(n.useState)(""),b=Object(E.a)(j,2),d=b[0],p=b[1],f=Object(i.c)((function(e){return e.favorites.citiesData})),x=Object(i.b)(),m=Object(n.useCallback)((function(e){return x({type:X,payload:e})}),[x]),h=Object(n.useCallback)((function(e){return x({type:re,payload:e})}),[x]);Object(n.useEffect)((function(){d&&m(d)}),[d,u,m]),Object(n.useEffect)((function(){0!==t.length&&h(t)}),[t,h]);var y=function(e){l((function(e){return!e})),p(e)};return Object(O.jsxs)(I.a,{container:!0,className:c.container,children:[Object(O.jsx)(I.a,{item:!0,xs:!1,sm:1}),Object(O.jsx)(I.a,{item:!0,container:!0,sm:10,spacing:3,children:f.map((function(e,t){return Object(O.jsx)(I.a,{item:!0,xs:8,sm:6,children:Object(O.jsx)(Q,{location:e.cityKey,onDelete:a(t),move:r,onRefresh:y,weatherData:e.data})},e.cityKey)}))}),Object(O.jsx)(I.a,{item:!0,xs:!1,sm:1})]})},je="locations";function be(e){localStorage.setItem(je,JSON.stringify(e))}function de(){var e=localStorage.getItem(je);return e?JSON.parse(e):["Kyiv","Warsaw","Rome","London","Washington","New York"]}function pe(e){var t=e.split(" ");return(t=t.map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)}))).join(" ")}function Oe(e){var t=e.weather||[],a=Object(E.a)(t,1)[0];return{temp:e.main&&e.main.temp?Math.round(e.main.temp).toString():"",description:a?a.description:"",icon:a?"http://openweathermap.org/img/wn/".concat(a.icon,"@2x.png"):"",windTransform:e.wind?e.wind.deg-90:null,windSpeed:e.wind?Math.round(e.wind.speed):0}}function fe(e){return e.list.map((function(e){return{date:e.dt_txt.split(" ")[1].split(":")[0]+":00",temp:e.main.temp,feels:e.main.feels_like}}))}var xe=a(36),me=Object(n.createContext)(),he=function(e){var t=e.children,a=Object(n.useState)({location:"Rio de Janeiro",units:"metric",description:"Carnaval"}),r=Object(E.a)(a,2),c=r[0],i=r[1];return Object(O.jsx)(me.Provider,{value:{dataS:c,setValues:function(e){i((function(t){return Object(xe.a)(Object(xe.a)({},t),e)}))}},children:t})},ye=function(){return Object(n.useContext)(me)},ve=Object(u.a)({dialogThem:{flexGrow:1,textAlign:"center"}});var ge=function(){var e=ve(),t=Object(o.f)(),a=Object(i.c)((function(e){return e.favorites.error})),r=ye().setValues,c=Object(n.useState)(de),s=Object(E.a)(c,2),u=s[0],l=s[1],j=Object(n.useState)(!1),b=Object(E.a)(j,2),d=b[0],p=b[1],f=a.cityKey,x=Object(i.b)(),m=function(){p(!0)},h=function(){p(!1)},y=function(e){l(Array.from(e)),be(e)};f&&setTimeout((function(e){!function(e){var t=u.filter((function(t,a){return t!==e}));y(t)}(e),alert("This location does not exists.")}),1e3,f);var v=Object(n.useCallback)((function(){return x({type:se})}),[x]);return Object(n.useEffect)((function(){f&&v()}),[f,v]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(W,{onClick:m}),Object(O.jsx)(le,{weatherLocations:u,moveItemToFront:function(e,a){return function(){r({location:e,units:"metric",description:a}),t.push("./weather")}},removeLocation:function(e){return function(){y(u.filter((function(t,a){return a!==e})))}},handleClickOpen:m}),Object(O.jsxs)(T.a,{className:e.dialogThem,open:d,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(F.a,{id:"form-dialog-title",children:"Add Location"}),Object(O.jsxs)(C.a,{children:[Object(O.jsx)(R.a,{children:"Enter a City Name:"}),Object(O.jsx)(w.a,{autoFocus:!0,color:"secondary",margin:"dense",id:"name",label:"City",name:"city",type:"text",fullWidth:!0,required:!0})]}),Object(O.jsxs)(_.a,{children:[Object(O.jsx)(k.a,{onClick:h,color:"secondary",children:"Cancel"}),Object(O.jsx)(k.a,{onClick:function(){var e,t=document.getElementsByName("city")[0].value;(e=t).length>=2&&e.match(/^[A-Za-z\xc0-\xff\.'*`\xb4\u2019,\- "]{1,34}$/i)?u.includes(pe(t))?alert("This location already exists."):(l([].concat(Object(g.a)(u),[pe(t)])),be([].concat(Object(g.a)(u),[pe(t)])),p(!1)):alert("Request must contain only English characters. Enter your request correctly, please.")},color:"secondary",children:"Add"})]})]})]})},Ee=a(514),we=a(506),Te=a(507),ke=a(519),_e=a(517),Ce=a(176),Re=a(508),Fe=a(509),Se=a(124),Ae=a(255),He=a(256),Ne=a(127),We=a(260),Ie=Object(u.a)((function(e){return{root:{borderRadius:"5px",backdropFilter:"blur(100px)"},divider:{margin:".5rem 0"}}})),De=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Me=function(){var e=Ie(),t=ye(),a=t.dataS,r=t.setValues,c=Object(i.c)((function(e){return e.forecast.weatherData})),s=a.location,o=a.units,u=a.description,l=Object(i.b)(),j=Object(n.useCallback)((function(e){return l({type:te,payload:e})}),[l]);Object(n.useEffect)((function(){s&&j({cityName:s,units:o})}),[s,j,o]);return Object(O.jsx)(O.Fragment,{children:null===c?Object(O.jsx)(z.a,{}):Object(O.jsx)(_e.a,{appear:!0,in:c[0],timeout:250,classNames:"fade",unmountOnExit:!0,children:Object(O.jsxs)(Ee.a,{className:e.root,m:2,p:1,children:[Object(O.jsxs)(b.a,{variant:"h3",children:[s,", ",De[(new Date).getDay()]]}),Object(O.jsx)(b.a,{variant:"subtitle2",children:u}),Object(O.jsx)(we.a,{className:e.divider}),Object(O.jsxs)(b.a,{variant:"h4",children:["metric"===o?Object(O.jsx)(Ce.a,{}):Object(O.jsx)(Ce.b,{})," "]}),Object(O.jsx)(Te.a,{onChange:function(){r(a.units="metric"===o?"imperial":"metric")},checked:"metric"===o,control:Object(O.jsx)(ke.a,{color:"primary"})}),Object(O.jsx)(Re.a,{width:"100%",height:300,children:Object(O.jsxs)(Fe.a,{margin:{top:10,right:30,left:0,bottom:0},data:c,children:[Object(O.jsxs)("defs",{children:[Object(O.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(O.jsx)("stop",{offset:"5%",stopColor:"#F85F0F",stopOpacity:.8}),Object(O.jsx)("stop",{offset:"95%",stopColor:"#F85F0F",stopOpacity:0})]}),Object(O.jsxs)("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(O.jsx)("stop",{offset:"5%",stopColor:"#9607F8",stopOpacity:.8}),Object(O.jsx)("stop",{offset:"95%",stopColor:"#9607F8",stopOpacity:0})]})]}),Object(O.jsx)(Se.a,{}),Object(O.jsx)(Ae.a,{stroke:"rgba(0,0,0,7)",dataKey:"date"}),Object(O.jsx)(He.a,{stroke:"rgba(0,0,0,7)"}),Object(O.jsx)(Ne.a,{}),Object(O.jsx)(We.a,{type:"montoone",dataKey:"temp",stroke:"#F85F0F",fillOpacity:1,fill:"url(#colorUv)"}),Object(O.jsx)(We.a,{type:"monotone",dataKey:"feels",stroke:"#9607F8",fillOpacity:1,fill:"url(#colorPv)"})]})})]})})})};var Ye=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(s.a,{children:[Object(O.jsx)(x,{}),Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{path:"/",exact:!0,component:ge}),Object(O.jsx)(o.a,{path:"/navbar",component:x}),Object(O.jsx)(o.a,{path:"/weather",component:Me})]}),Object(O.jsx)(v,{})]})})},Ve=a(61),Le=a(259),Ue={cityName:"",weatherData:null,error:"",units:""},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(xe.a)(Object(xe.a)({},e),{},{cityName:t.payload.cityName,units:t.payload.units});case ae:return Object(xe.a)(Object(xe.a)({},e),{},{weatherData:t.payload});case ne:return Object(xe.a)(Object(xe.a)({},e),{},{error:t.payload});default:return e}},Be={citiesArr:[],citiesData:[],error:""},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(xe.a)(Object(xe.a)({},e),{},{citiesArr:Object(g.a)(t.payload)});case ce:return Object(xe.a)(Object(xe.a)({},e),{},{citiesData:Object(g.a)(t.payload)});case ie:return Object(xe.a)(Object(xe.a)({},e),{},{error:t.payload});case oe:return Object(xe.a)(Object(xe.a)({},e),{},{error:""});case ee:var a=Object(g.a)(e.citiesData).reduce((function(e,a,n){return a.cityKey===t.payload.city&&(a.data=t.payload.data),e=[].concat(Object(g.a)(e),[a])}),[]);return Object(xe.a)(Object(xe.a)({},e),{},{citiesData:Object(g.a)(a)});default:return e}},qe=Object(Ve.c)({favorites:Ge,forecast:Ke}),Je=a(27),ze=a.n(Je),Pe=a(54),Ze=a(179),$e=a(257),Qe=a.n($e).a.create({baseURL:"https://api.openweathermap.org"}),Xe=function(){var e=Object(Ze.a)(ze.a.mark((function e(t){var a,n,r,c,i,s,o,u;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe.get("/data/2.5/weather",{params:{q:t,appid:"93c8c994b1286b57b55bc0fbed8a5e45",units:"metric"}});case 3:if(200!==(a=e.sent).status){e.next=8;break}return n=a.data,r=Oe(n),c=r.temp,i=r.description,s=r.icon,o=r.windTransform,u=r.windSpeed,e.abrupt("return",{temp:c,description:i,icon:s,windTransform:o,windSpeed:u});case 8:return e.abrupt("return",{error:a.statusText});case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(Ze.a)(ze.a.mark((function e(t){var a,n;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cityName,n=t.units,e.next=3,Qe.get("/data/2.5/forecast/",{params:{q:a,appid:"93c8c994b1286b57b55bc0fbed8a5e45",units:n,cnt:9}}).then((function(e){return e.data})).catch((function(e){return{error:e.message}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=a(44),at=ze.a.mark(it),nt=ze.a.mark(st),rt=ze.a.mark(ot),ct=ze.a.mark(ut);function it(e){var t,a,n;return ze.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,r.next=4,Object(tt.b)(Xe,e.payload);case 4:return a=r.sent,n=Object.assign({},{data:a},{city:t}),r.next=8,Object(tt.c)({type:ee,payload:n});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(tt.c)({type:"MY_WEATHRE_FETCH_WEATHER_FAIL",payload:r.t0});case 14:case"end":return r.stop()}}),at,null,[[0,10]])}function st(e){var t,a,n,r,c;return ze.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=[],a=[],i.next=4,e.payload.map((function(e){return ot(e)}));case 4:return n=i.sent,i.next=7,Object(tt.a)(n);case 7:t=i.sent,r=!1,c=0;case 10:if(!(c<t.length)){i.next=23;break}if("undefined"!==typeof t[c]){i.next=15;break}r=!0,i.next=20;break;case 15:if(!t[c].data.error){i.next=19;break}return i.abrupt("continue",20);case 19:a.push(t[c]);case 20:c++,i.next=10;break;case 23:if(r){i.next=26;break}return i.next=26,Object(tt.c)({type:ce,payload:a});case 26:case"end":return i.stop()}}),nt)}function ot(e){var t,a;return ze.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(tt.b)(Xe,e);case 3:if(t=n.sent,!(a={cityKey:e,data:t}).data.error){n.next=8;break}return n.next=8,Object(tt.c)({type:ie,payload:a});case 8:return n.abrupt("return",a);case 11:return n.prev=11,n.t0=n.catch(0),console.error("Error fetching Favorite"),n.abrupt("return",void 0);case 15:case"end":return n.stop()}}),rt,null,[[0,11]])}function ut(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tt.c)({type:oe});case 2:case"end":return e.stop()}}),ct)}var lt=ze.a.mark(jt);function jt(e){var t,a;return ze.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(tt.b)(et,e.payload);case 3:return t=n.sent,n.next=6,Object(tt.b)(fe,t);case 6:return a=n.sent,n.next=9,Object(tt.c)({type:ae,payload:a});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(tt.c)((r=n.t0,{type:ne,payload:r}));case 15:case"end":return n.stop()}var r}),lt,null,[[0,11]])}var bt=ze.a.mark(ft),dt=ze.a.mark(xt),pt=ze.a.mark(mt),Ot=ze.a.mark(ht);function ft(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Pe.a,e.next=3,Object(Pe.d)(re,st);case 3:return e.t1=e.sent,e.t2=[e.t1],e.next=7,(0,e.t0)(e.t2);case 7:case"end":return e.stop()}}),bt)}function xt(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Pe.a,e.next=3,Object(Pe.d)(X,it);case 3:return e.t1=e.sent,e.t2=[e.t1],e.next=7,(0,e.t0)(e.t2);case 7:case"end":return e.stop()}}),dt)}function mt(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Pe.a,e.next=3,Object(Pe.d)(se,ut);case 3:return e.t1=e.sent,e.t2=[e.t1],e.next=7,(0,e.t0)(e.t2);case 7:case"end":return e.stop()}}),pt)}function ht(){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Pe.a,e.next=3,Object(Pe.d)(te,jt);case 3:return e.t1=e.sent,e.t2=[e.t1],e.next=7,(0,e.t0)(e.t2);case 7:case"end":return e.stop()}}),Ot)}var yt=Ve.d,vt=Object(Le.a)(),gt=Object(Ve.e)(qe,yt(Object(Ve.a)(vt)));vt.run(ft),vt.run(xt),vt.run(ht),vt.run(mt),c.a.render(Object(O.jsx)(i.a,{store:gt,children:Object(O.jsx)(he,{children:Object(O.jsx)(Ye,{})})}),document.getElementById("root"))}},[[447,1,2]]]);
//# sourceMappingURL=main.077bc274.chunk.js.map